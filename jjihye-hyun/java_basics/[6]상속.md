# 상속(inheritance)
상속이란, 기존의 클래스를 재사용하여 새로운 클래스를 작성하는 것이다.

## 자바 상속의 특징
- 상속을 이용하면 적은 양의 코드로 새로운 클래스를 작성할 수 있다
- 코드를 공통적으로 관리할 수 있기 때문에 코드의 추가 및 변경이 매우 용이하다
- => 코드의 재사용성을 높이고 코드의 중복을 제거하여 프로그램의 생산성과 유지보수에 기여함
- => 같은 내용의 코드를 하나 이상의 클래스에 중복적으로 추가해야하는 경우에는 상속관계를 이용해서 코드의 중복을 최소화 해야한다.
- 단일 상속(single inheritance)만 허용한다. => 둘 이상의 클래스로부터 상속을 받을 수 없음.

### 자바에서 상속을 구현하는 방법
```java
class Parent { }
class Child extends Parent { }
```
- 조상클래스: 부모(parent)클래스, 상위(super)클래스, 기반(base)클래스
- 자손클래스: 자식(child)클래스, 하위(sub)클래스, 파생된(derived)클래스

- 자손 클래스는 조상 클래스의 모든 멤버를 상속받는다 => Child 클래스는 Parent 멤버들을 포함함.
- 조상클래스가 변경되면 자손클래스는 자동적으로 영향을 받게 되지만, 자손클래스가 변경되는 것은 조상클래스에 아무런 영향을 주지 못한다.
- 생성자와 초기화 블럭은 상속되지 않는다. 멤버만 상속된다.
- 자손 클래스의 인스턴스를 생성하면 조상 클래스의 멤버와 자손 클래스의 멤버가 합쳐진 하나의 인스턴스로 생성된다.

## super 키워드
super는 자손클래스에서 조상 클래스로부터 상속받은 멤버를 참조하는데 사용되는 참조 변수이다.   
상속받은 멤버와 자신의 멤버와 이름이 같을 때 super를 붙여서 구별할 수 있다.
### super()
super()은 조상 클래스의 생성자를 호출하는데 사용된다.   
자손 클래스의 인스턴스를 생성할때 조상클래스의 멤버들을 사용하기 위해서 조상 클래스 멤버의 초기화 작업이 수행된어야 하기 때문에 자손클래스의 생성자에서 조상 클래서의 생성자가 호출된다.   
거슬러 올라가 Object()까지 가야 끝남

## 메소드 오버라이딩(overriding)
오버라이딩은 조상 클래스로부터 상속받은 메서드의 내용을 변경하는 것을 말한다. 상속받은 메서드를 그대로 사용하기도 하지만, 자손 클래스 자신에 맞게 변경해야하는 경우가 많다.
### 오버라이딩의 조건
- 자손클래스에서 오버라이딩하는 메서드는 조상클래스의 메서드와 이름, 매개변수, 반환타입이 같아야 한다.
- 접근 제어자는 조상 클래스의 메서드보다 좁은 범위로 변경할 수 없다.
- 조상 클래스의 메서드보다 많은 수의 예외를 선언할 수 없다.
- 인스턴스메서드를 static 메서드로 또는 그 반대로 변경할 수 없다.

### 오버로딩 VS 오버라이딩
- 오버로딩: 기존에 없던 새로운 메서드를 정의하는 것(new)
- 오버라이딩: 상속받은 메서드의 내용을 변경하는 것(change, modify)
 
## Dynamic Method Dispatch
동적 메서드 디스패치는 컴파일 시점에서는 어떤 메소드가 실행될지는 모르고 런타임이 어떤 메서드가 실행되는지 결정되는 경우를 의마한다.   
컴파일 할때는 타입만 체크하고, 런타임에 정해져서 메서드가 호출된다.

```java
public static void main(String[] args){
    Parent parent = new Child();
    parent.method(); // 동적 디스패치
} 
```


## 추상 클래스
추상클래스는 미완성 설계도와 비슷하다. 미완성이라는 것은 추상메서드를 포함하고 있다는 의미이다.   
추상클래스 자체로는 클래스로서의 역할을 다 못하지만, 새로운 클래스를 작성하는데 있어서 바탕이되는 조상클래스로서 중요한 의미를 갖는다.   

```java
abstract class 클래스이름 {
}
```
- 여러 클래스에 공통적으로 사용될 수 있는 클래스를 바로 작성하기도 함
- 기존의 클래스의 공통적인 부분을 뽑아서 추상클래스로 만들어 상속하도록 하는 경우도 있음

## final 키워드
- final: 마지막의, 변경될 수 없는
- 대표적인 final 클래스로는 String 과 Math가 있다.

| 대상 | 의미 |
| :--: | ---- |
| 클래스 | 변경될 수 없는 클래스, 확장될 수 없는 클래스가 된다. 그래서 final로 지정된 클래스는 다른 클래스의 조상이 될 수 없다. |
| 메서드 | 변경될 수 없는 메서드, final로 지정된 메서드는 오버라이딩을 통해 재정의 될 수 없다. |
| 멤버변수, 지역변수 | 변수 앞에 final이 붙으면, 값을 변경할 수 없는 상수가 된다. |

### 생성자를 이용한 final멤버 변수의 초기화
final이 붙은 변수는 상수이므로 일반적으로 선언과 초기화를 동시에 하지만, 인스턴스변수의 경우 생성자에서 초기화 할 수 있다.      

```java
class Card {
    final int NUBER:
    final String KIND;

    Card(String kind, int num){
        KIND = kind;
        NUMBER = num;
    }
}
```

## Object 클래스
- Object 클래스는 모든 클래스의 조상이다. 모든 클래스 상속계층도의 최상위에 있는 조상클래스이다. 
- 다른 클래스로부터 상속받지 않는 모든 클래스들은 컴파일 시 자동적으로 Object 클래스로부터 상속받게 한다. 
- 다른 클래스로부터 상속 받았다고 해도 상속계층도를 따라 조상클래스를 따라 올라가다보면 마지막 최상위 조상은 Object 클래스
- 따라서 모든 클래스들은 Object에 정의된 멤버들을 사용할 수 있다.

| Object클래스의 메서드 | 설명 |
| ---------------- | ----- |
| protected Object clone() | 객체 자신의 복사본을 반환한다. |
| public boolean equals(Object obj) | 객체 자신과 객체 obj가 같은 객체인지 알려준다. |
| protected void finalize() | 객체가 소멸될 때 가비지 컬렉터에 의해 자동적으로 호출된다. 이때 수행되더야하는 코드가 있을 때 오버라이딩 한다. |
| public Class getClass() | 객체 자신의 클래스 정보를 담고 있는 Class 인스턴스를 반환한다. |
| public int hashCode() | 객체의 해시코드를 반환한다. |
| public String toString() | 객체 자신의 정보를 문자열로 반환한다. |
| public void notify() | 객체 자신을 사용하려고 기다리는 쓰레드를 하나만 깨운다 | 
| public void notifyAll() | 객체 자신을 사용하려고 기다리는 모든 쓰레드를 깨운다. |
| public void wail() | 다른 쓰레드가 notify()나 notifyAll()을 호출할 때까지 현재 쓰레드를 무한히 또는 지정된 시간동안 기다리게 한다. |  


----
### 참고
- 자바의 정석
- https://www.tutorialspoint.com/Dynamic-method-dispatch-or-Runtime-polymorphism-in-Java
- https://highright96.tistory.com/7