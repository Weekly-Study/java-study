# 자바 데이터 타입, 변수 그리고 배열	

# 자바의 프리미티브 타입(Primitive Type) 종류와 값의 범위 그리고 기본값
자료형(data type)은 값의 종류에 다라 값이 저장될 공간의 크기와 저장형식을 정의한 것이다. 자료형에는 문자형(char), 정수형(byte, short, int, long), 실수형(double, float)등이 있으며, 변수를 선언할 때는 저장하려는 값의 특성을 고려하여 가장 알맞은 자료형의 변수타입으로 선택하면 된다.   
## 프리미티브 타입(Primitive Type, 기본형) 종류
기본형에는 8개의 타입이 있다.

| 분류 | 타입 | 설명 |
| --- | --- | ---- |
| 논리형 | boolean | ture와 false 중 하나의 값을 갖으며, 조건식과 논리적 계산에 사용된다 |
| 문자형 | char | 문자를 저장하는데 사용되며, 변수에 하나의 문자만 저장할 수 있다 |
| 정수형 | byte, short, int, long | 정수를 저장하는데 사용 |
| 실수형 | float, double | 실수를 저장하는데 사용, 주로 double 사용 |

## 프리미티브 타입(Primitive Type, 기본형) 크기
| 종류/크기 | 1Byte | 2Byte | 4Byte | 8Byte |
| :-----: | :----: | :---: | :----: | :---: |
| 논리형 | boolean | | | |
| 문자형 | | char | | |
| 정수형 | byte | short | int | long |
| 실수형 | | | float | double | 
   
## 프리미티브 타입(Primitive Type, 기본형) 값의 범위
정수형의 경우 -2<sup>n</sup> ~ 2<sup>n-1</sup>-1 (n은 bit수)

| 자료형 | 저장 가능한 값의 범위 | bit | byte |
| :---: | :-------------: | :--: | :--: |
| boolean | flase, true | 8 | 1 |
| char | '\u0000' ~ '\uffff' (0~2<sup>6</sup> - 1, 0 ~65535) | 16 | 2 |
| byte | -127 ~ 128 (-2<sup>7</sup> ~ 2<sup>7</sup>-1 ) | 8 | 1 |
| short | -32,768 ~ 32,767 (-2<sup>15</sup> ~ 2<sup>15</sup>-1 ) | 16 | 2 |
| int |  -2,147,483,648 ~ 2,147,483,647 (-2<sup>31</sup> ~ 2<sup>31</sup>-1, 약20억 ) | 32 | 4 |
| long | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807 (-2<sup>63</sup> ~ 2<sup>63</sup>-1 ) | 64 | 8 |
| float | (3.4 X 10-38) ~ (3.4 X 1038) 의 근사값  | 32 | 4 |
| double | (1.7 X 10-308) ~ (1.7 X 10308) 의 근사값 | 64 | 8 |


# 프리미티브 타입(Primitive Type)과 레퍼런스 타입(Reference Type)
- 기본형(Primitive Type)
  - 계산을 위실제 값을 저장
  - 논리형(boolean), 문자형(char), 정수형(byte, short, int, long), 실수형(float, double) 8개
- 참조형(Reference Type)
  - 객체의 주소 저장 또는 null
  - 8개의 기본형을 제외한 나머지 타입
  - 참조형 변수를 선언할 때 변수의 타입으로 클래스 이름을 사용하므로, 클래스의 이름이 참조변수의 타입이 됨. 즉, 새로운 클래스를 작성한다는 것은 새로운 참조형을 추가하는 것이다.

# 리터럴
그 자체로 값을 의미하는 것을 말한다. '상수'의 다른 이름일뿐. 프로그래밍에서는 상수를 값을 한번 저장하면 변경할 수 없는 저장공간으로 정의하였기 때문에 이와 구분하기 위해 리터럴 사용.
```java

// 리터럴: 2014, 100

int year = 2014;    
final int MAX_VALUE = 100; 

```
## 리터럴 타입과 접미사
| 종류 | 리터럴 | 접미사 | 
| ---- | ------ | ----- |
| 논리형 | false, true | 없음 |
| 정수형 | 123, 0b0101, 077, 0xFF, 100L | L |
| 실수형 | 3.14, 3.0e8, 1.4f, | f, d |
| 문자형 | 'A', '1', '\n' | |
| 문자열 | "ABC", "123" | |


# 변수 선언 및 초기화 하는 방법
변수는 단 하나의 값을 저장할 수 있는 메모리 공간이다.
## 변수 선언
```java
// 변수 선언방법: [변수타입] [변수명];

int age; // age라는 이름의 변수를 선언

```
- 변수타입: 변수에 저장될 값이 어떤 타입인지 지정하는 것. 저장하고자하는 값의 종류에 맞게 변수의 타입을 적어주면 된다.
- 변수이름: 메모리 공간에 이름을 붙여주는 것.

## 변수의 초기화
변수의 초기화란 변수를 사용하기 전에 처음으로 값을 저장하는 것이다. 메모리는 여러 프로그램이 공유하는 자원이므로 전에 다른 프로그램에의해 저장된 쓰레기 값이 남아있을 수 있기 때문에 변수를 사용하기 전에 초기화 해야한다. 지역변수는 사용되기 전에 초기화를 반드시 해야 하지만 클래스변수와 인스턴스변수는 초기화를 생략할 수 있다.
```java

int age = 25; // 변수 age를 선언하고 25로 초기화한다.

```

# 변수의 스코프와 라이프타임
```java
class Variables
{
    int iv;         // 인스턴스 변수
    static int cv;  // 클래스 변수(Static 변수, 공유변수)

    void method()
    {
        int lv = 0; // 지역변수
    }

}

```

| 변수의 종류 | 설명 |선언 위치(스코프) | 라이프 타임 |
| -------- | ------- |------------- | ------- |
| 클래스 변수 (class variable) | static으로 표시된 변수, 모든 인스턴스들이 공통적인 값을 유지해야하는 속성의 경우 클래수 변수로 선언 | 클래스 영역 | 클래스가 메모리에 올라갈때 ~ 프로그램이 끝날떄 까지 | 
| 인스턴스 변수 (instance variable) | 인스턴스는 독립적인 저장공간을 가지므로 인스턴스마다 고유한 상태를 유지해야하는 속성의 경우 인스턴스 변수로 선언 | 클래스 영역 | 클래스의 인스턴스가 생성할 떄 ~ 객체가 메모리에 남아 있을 때 | 
| 지역 변수 (local variable) | 인스턴스 및 클래스 변수가 아닌 모든 변수 | 클래스 영역이외의 영역(메서드, 생성자, 초기화 블럭 내부) | 선언된 블럭{ ~ } | 


# 타입 변환, 캐스팅 그리고 타입 프로모션
형변환(캐스팅, casting)는 변수 또는 상수의 타입을 다른 타입으로 변환하는 것이다. 연산을 수행하기 전에 타입을 일치시켜야하는데 변수나 리터럴의 타입을 다른 타입으로 변환하는 것을 형변환이라고 한다.
## 형변환 방법
<code>(타입)피연산자</code>    
- 큰타입에서 작은타입으로 변환하는 경우 loss of data 가 발생할 수 있다.
- 프로모션 (자동/묵시적 형변환) : 작은 데이터 타입에서 큰 데이터 타입으로 형 변환
- 캐스팅(명시적 형 변환) : 큰 데이터 타입에서 작은 데이터 타입으로 형 변환


# 1차 및 2차 배열 선언하기
같은 타입의 여러 변수를 하나의 묶음으로 다르는 것을 배열이라고 한다.   

```java
// 1차원 배열 선언하기
int[] score;
int score[];
score = new int[5];

// 2차원 배열 선언하기
int[][] score;
int score[][];
int[] score[];

int[][] score = new int[4][3];  // 4행 3열의 2차원 배열 생성한다.

```

# 타입 추론, var
자바 10부터 타입 추론을 지원하는 var키워드가 추가되었음. 
타입 추론이란 정적 타이핑을 지원하는 언어에서 타입이 정해지지 않은 변수에 대해서 컴파일러가 변수의 타입을 스스로 찾아낼 수 있도록 하는 것이다. 
타입을 명시하지 않아도 되기 때문에 코드량을 줄이고, 코드의 가독성을 높일 수 있다.   
기존의 자바에서는 일반 변수에 대해서는 타입추론이 지원되지 않고, generics와 lambda식에 대해서만 타입 추론을 지원하고 있었다.

```java
var fruite = "apple";
```

### 사용시 주의해야 할 부분
- var와 다이아몬드 연산자를 같이 사용하게 되면 컴파일 에러가 발생함
```java
var name = new ArrayList<>();             //error
```
- IDE가 없으면 어떤 데이터 타입이 들어오는지 확인하기 어렵다.
- var는 초기화 없이 사용할 수 없습니다.
- var 타입 변수에는 null이 들어갈 수 없습니다.
- var 타입 변수는 지역변수에만 선언할 수 있습니다.
- Lambda Expression에서는 명시적인 타입을 지정해줘야합니다.
```java
var p = (String s) -> System.out.println("s = " + s);
```

---
### 참고
- (도서) 자바의 정석
- https://league-cat.tistory.com/414
- https://kdg-is.tistory.com/m/219
- https://league-cat.tistory.com/412?category=720850