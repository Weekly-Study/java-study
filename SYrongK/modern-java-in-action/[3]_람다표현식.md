# λλ‹¤

Java 8μ μƒλ΅μ΄ κΈ°λ¥μ΄λ‹¤.

π’΅ μµλ…ν•¨μλ¥Ό λ‹¨μν™”ν•΄μ„ κ°„κ²°ν•κ² μ‚¬μ©ν•  μ μκ² ν• ν•¨μλ΅, λ©”μ„λ“μ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•  μ μλ‹¤.


## λλ‹¤μ νΉμ§•

μ΄λ¦„μ΄ μ—†μΌλ―€λ΅ **`μµλ…`**μ νΉμ„±μ„ κ°€μ§€κ³  μκ³ 

λ©”μ„λ“μ²λΌ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€, body, return type, μμ™Έ λ¦¬μ¤νΈλ¥Ό ν¬ν•¨μ‹ν‚¤κ³  μμ§€λ§, νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μΌλ―€λ΅ **`ν•¨μ`**λΌκ³  λ¶€λ¥Έλ‹¤.

λ, λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ **`μ „λ‹¬`**ν•κ±°λ‚ λ³€μλ΅ μ €μ¥ν•  μ μμ–΄ **`κ°„κ²°μ„±`**μ„ κ°€μ΅λ‹¤.

κΈ°μ μ μΌλ΅ μλ°” 8 μ΄μ „μ—” ν•  μ μ—†μ—λ κΈ°λ¥μ„ μ κ³µν•λ” κ²ƒμ€ μ•„λ‹μ§€λ§, λ™μ‘ νλΌλ―Έν„°λ¥Ό μ΄μ©ν•  λ• μµλ… ν΄λμ¤μ™€ κ°™μ€ λ²κ±°λ΅μ΄ μ½”λ“λ“¤μ€ κ°„κ²°ν•κ² λ§λ“¤μ–΄μ¤€λ‹¤λ” μ μ΄ ν° μ¥μ μ΄λ‹¤.

## λλ‹¤ ν‘ν„μ‹ κµ¬μ΅°

λ©”μ„λ“μ²λΌ νλΌλ―Έν„° λ¦¬μ¤νΈ, λλ‹¤ λ°”λ””, return typeμΌλ΅ κµ¬μ„±λμ–΄ μλ‹¤.

```java
(λλ‹¤ νλΌλ―Έν„° a, λλ‹¤ νλΌλ―Έν„° b) -> λλ‹¤ λ°”λ””

(Apple a, Apple b) -> a.getWeight().compareTo(b.getWeight());
```

μ„μ κµ¬μ΅°μ—μ„ bodyλ” ν‘ν„μ‹ μ¤νƒ€μΌμ΄λ‚, λΈ”λ΅ μ¤νƒ€μΌλ΅ μ“Έ μ μλ‹¤.

```java
(parameters) β†’ expression

(parameters) β†’ {statements;}
```

# λλ‹¤ μ‚¬μ©ν•κΈ°

λλ‹¤ ν‘ν„μ‹μ€ **`λ³€μ`**μ— μ„ μ–Έν•κ±°λ‚, `**ν•¨μν• μΈν„°νμ΄μ¤**`λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤.

## ν•¨μν• μΈν„°νμ΄μ¤

π’΅ λ‹¨ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§ μ§€μ •ν•λ” μΈν„°νμ΄μ¤μ΄λ‹¤.  
μ¶”μƒ λ©”μ„λ“ ν•λ‚ μ™Έμ— defaullt λ©”μ„λ“κ°€ μ—¬λ¬κ° μμ–΄λ„, ν•¨μν• μΈν„°νμ΄μ¤κ°€ λ§λ‹¤.


μλ°” 8μ—μ„ μ¶”κ°€λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ³΄λ©΄ `@FunctionalInterface` μ–΄λ…Έν…μ΄μ…μ΄ λ‹¬λ ¤ μλ‹¤.

ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ λλ‹¤ ν‘ν„μ‹μΌλ΅ λ³„λ„μ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄ κµ¬ν„ν• κ²ƒμ²λΌ μ „λ‹¬ν•  μ μλ‹¤.

```java
public void test(Function<Apple> function);
```

μ„ μ½”λ“μ `function` μλ¦¬μ— λλ‹¤ ν‘ν„μ‹μ„ λ„£μ„ μ μλ‹¤λ” μλ―Έμ΄λ‹¤.

κ·Έλμ„, λλ‹¤ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ instanceλ΅ μ·¨κΈ‰ν•  μ μλ‹¤.

### μ‹κ·Έλ‹μ²μ™€ ν•¨μ λ””μ¤ν¬λ¦½ν„°

- νλΌλ―Έν„° λ¦¬μ¤νΈλ¥Ό λ°›λ”λ‹¤.
- νΉμ • return typeμ„ κ°–λ”λ‹¤.
- ν•„μ”ν•  κ²½μ° Exceptionμ„ λμ§„λ‹¤.

μ„μ μ”μ†λ¥Ό κ°–μ¶ κµ¬μ΅°λ¥Ό `**μ‹κ·Έλ‹μ²**`λΌκ³  ν•λ‹¤.

ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ² = λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²

κ·Έλ¦¬κ³  μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“λ¥Ό `**ν•¨μ λ””μ¤ν¬λ¦½ν„°**`λΌκ³  λ¶€λ¥Έλ‹¤.

```java
(Apple, Apple) -> int
(Apple a, Apple b) -> a.getWeight().compareTo(b.getWeight();
```

μ„μ μμ‹λ” Apple μΈμ¤ν„΄μ¤ 2κ°λ¥Ό νλΌλ―Έν„°λ΅ λ°›κ³  return typeμ€ intμΈ μ‹κ·Έλ‹μ²μ™€ κ·Έ μ‹κ·Έλ‹μ² κµ¬μ΅°λ¥Ό λ”°λ¥΄λ” λλ‹¤μ‹μ΄λ‹¤.

## λλ‹¤μ‹μ μ μ—°μ„±

λλ‹¤μ‹μ μ¤‘μ”ν• νΉμ§• μ¤‘μ— ν•λ‚λ” λ™μΌν• μ‹κ·Έλ‹μ²λ¥Ό κ°€μ§„ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ‹¤μ–‘ν•κ² μ“Έ μ μλ‹¤λ” κ²ƒμ΄λ‹¤.

```java
(Apple, Apple) -> int
(Apple a, Apple b) -> a.getWeight().compareTo(b.getWeight();
```

μ„ μ½”λ“λ¥Ό μλ΅ λ“¤λ©΄, λ¬΄κ²λ¥Ό λΉ„κµν•λ” ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ‘κ°™μ΄ Apple 2κ°λ¥Ό μΈμλ΅ λ°›μ•„ intλ¥Ό λ¦¬ν„΄ν•λ” λ‹¤λ¥Έ λ‚΄μ©μΌλ΅ κµ¬ν„ν•  μλ„ μλ‹¤λ” κ²ƒμ΄λ‹¤.

μ΄λ¥Ό ν†µν•΄ κµ¬ν„ν•κ³ μ ν•λ” λ™μ‘μ„ `λ” μ μ—°ν•κ²` λ§λ“¤ μ μλ‹¤.

## java.util.functionμ λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤

λ‹¤μ–‘ν• λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•λ ¤λ©΄ κ³µν†µμ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό κΈ°μ ν•λ” ν•¨μν• μΈν„°νμ΄μ¤ μ§‘ν•©μ΄ ν•„μ”ν•λ‹¤.

μλ°”8μ€ `java.util.function` ν¨ν‚¤μ§€λ΅ μ—¬λ¬κ°€μ§€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

λ€ν‘μ μΌλ΅ `**Predicate**`, `**Consumer**`, `**Function**` κ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μλ‹¤.

### Predicate

T κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„μ„ booleanμ„ return ν•λ” testλΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•΄ λ‘” ν•¨μν• μΈν„°νμ΄μ¤

```java
@FunctionalInterface
public interface Predicate<T> {

	boolean test(T t);
}
```

Predicate<T>μ test λ©”μ„λ“λ¥Ό ν΄λμ¤λ¥Ό κµ¬ν„ν•μ§€ μ•κ³ λ„, λλ‹¤μ‹μΌλ΅ κ°„λ‹¨ν•κ² κµ¬ν„ν•  μ μλ‹¤.

### Consumer

T κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„μ„ voidλ¥Ό λ°ν™ν•λ” acceptλΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•΄ λ‘” ν•¨μν• μΈν„°νμ΄μ¤

### Function

T κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„μ„ R κ°μ²΄λ¥Ό λ°ν™ν•λ” μ¶”μƒ λ©”μ„λ“ applyλ¥Ό μ •μν•΄ λ‘” ν•¨μν• μΈν„°νμ΄μ¤

## μ¤ν† λ°•μ‹±μ„ ν”Όν•κ² ν•΄μ£Όλ” ν•¨μν• μΈν„°νμ΄μ¤

κΈ°λ³Έν•μ„ μ°Έμ΅°ν•μΌλ΅ λ³€ν™ν•λ” boxingκ³Όμ •μ—λ” λ©”λ¨λ¦¬κ°€ μ†λ¨λλ‹¤.

ν•¨μν• μΈν„°νμ΄μ¤λ” λ©”λ¨λ¦¬ μ†λ¨λ¥Ό μ•ν•΄λ„λλ„λ΅(μ¤ν† λ°•μ‹±μ„ ν•μ§€ μ•λ„λ΅) κΈ°λ³Έν•μ— νΉν™”λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ‹¤.

μ : `IntPredicate`, `DoublePredicate`, `IntFunction` β€¦

## ν•¨μν• μΈν„°νμ΄μ¤, λλ‹¤λ΅ μμ™Έ λμ§€κΈ°

ν•¨μν• μΈν„°νμ΄μ¤λ” ν™•μΈλ μμ™Έλ¥Ό λμ§€μ§€ μ•λ”λ‹¤.

λ”°λΌμ„, μμ™Έλ¥Ό λμ§€κ³  μ‹¶μΌλ©΄ μμ™Έλ¥Ό μ„ μ–Έν•λ” `ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μƒλ΅ λ§λ“¤μ–΄μ„ μ“°κ±°λ‚` `λλ‹¤μ‹μ„ try-catch λ¬ΈμΌλ΅ κ°μ‹Έ` μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

## λ€μƒ ν•μ‹

μ»΄νμΌλ¬κ°€ λλ‹¤ ν‘ν„μ‹μ„ μ½μ–΄λ“¤μΌ λ• νΉμ • ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒλ©”μ„λ“λ¥Ό κµ¬ν„ν–λ‹¤λ” μ •λ³΄κ°€ λ…μ‹λμ–΄ μμ§€ μ•μ•„λ„, μ–΄λ–¤ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• κ²ƒμΈμ§€ νμ•…ν•΄λ‚Έλ‹¤.

μ΄λ ‡κ² λλ‹¤μ‹μ„ λ” μ μ΄ν•΄ν•  μ μλ„λ΅ λ„μ™€μ£Όλ” κ²ƒμ— λ€μƒ ν•μ‹μ΄ μλ‹¤.

λ€μƒ ν•μ‹ target type μ΄λ€ μ–΄λ–¤ μ½ν…μ¤νΈμ—μ„ κΈ°λ€λλ” λλ‹¤ ν‘ν„μ‹μ ν•μ‹μ„ λ§ν•λ‹¤.

```java
AAA<Integer> a = () -> 77;
BBB<Integer> b = () -> 77;
```

μ„μ μ½”λ“μ²λΌ `() β†’ 77`μ΄λΌλ” κ°™μ€ λλ‹¤μ‹μ„ μ“°λ”λΌλ„ λ€μƒ ν•μ‹μ΄ μκΈ° λ•λ¬Έμ— λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μ‚¬μ©λ  μ μλ‹¤.

λν•, λ€μƒ ν•μ‹μ„ μ΄μ©ν•΄μ„ μ»΄νμΌλ¬κ°€ λλ‹¤μ μ‹κ·Έλ‹μ²λ¥Ό μ¶”λ΅ ν•  μ μκΈ° λ•λ¬Έμ—, λλ‹¤ ν‘ν„μ‹μ„ μΆ€ λ” κ°„κ²°ν•κ² μ‘μ„±ν•  μ μλ‹¤.

```java
List<Apple> redApples = filter(invertory, **Apple apple** -> RED.equals(apple.getColor()));//ν•μ‹μ¶”λ΅  ν•μ§€ μ•μ€ κ²ƒ
List<Apple> redApples = filter(invertory, **apple** -> RED.equals(apple.getColor()));// ν•μ‹μ¶”λ΅  ν• κ²ƒ
```

μƒν™©μ— λ”°λΌμ„ ν•μ‹μ„ λ…μ‹μ μΌλ΅ λ³΄μ—¬μ¤„μ§€ λ§μ§€ κ²°μ •ν•΄μ„ κµ¬ν„ν•λ©΄ λλ‹¤.

## μ§€μ—­λ³€μ μ‚¬μ©

λλ‹¤ ν‘ν„μ‹μ—μ„  μ™Έλ¶€μ λ³€μλ„ κ°€μ Έλ‹¤ μ‚¬μ©ν•  μ μλ”λ°, μ΄λ¥Ό **`λλ‹¤ μΊ΅μ³λ§`**μ΄λΌκ³  ν•λ‹¤.

ν•μ§€λ§, μ§€μ—­λ³€μμ μΈμ¤ν„΄μ¤λ” stack μμ—­μ—μ„ κ΄€λ¦¬λλ” κ²ƒμΌλ΅ μ¤λ λ“μ™€ μλ…μ£ΌκΈ°λ¥Ό ν•¨κ» ν•΄μ•Όν•κΈ° λ•λ¬Έμ— 

λλ‹¤ ν‘ν„μ‹μ—μ„  finalλ΅ μ„ μ–Έλμ–΄ μκ±°λ‚ finalλ΅ μ„ μ–Έλ κ²ƒμ²λΌ μ‚¬μ©λλ” μ§€μ—­ λ³€μλ§μ„ μ°Έμ΅°ν•  μ μλ‹¤.

## κ°„κ²°ν•κ² μ°Έμ΅°ν•κΈ°

### λ©”μ„λ“ μ°Έμ΅°

λλ‹¤ ν‘ν„μ‹μΌλ΅ λ©”μ„λ“λ¥Ό μ „λ‹¬ν•  λ•, `νλΌλ―Έν„° λ¦¬μ¤νΈ β†’ λ°”λ””`κµ¬μ΅° μ§μ ‘ μ¨μ„ μ „λ‹¬ν•λ” κ²ƒ μ™Έμ— `**λ©”μ„λ“ μ°Έμ΅°**`λ¥Ό μ΄μ©ν•΄μ„ μ •μν•΄ λ‘” λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ„λ΅ ν•  μλ„ μλ‹¤.

λ©”μ„λ“ μ°Έμ΅°λ” νΉμ • λ©”μ„λ“λ§μ„ νΈμ¶ν•λ” λλ‹¤μ μ¶•μ•½ν•μ΄λΌκ³  λ³Ό μ μλ‹¤.

`Apple::getWeight` λ©”μ„λ“ μ°Έμ΅°λ¥Ό ν•΄μ„ κ°€λ…μ„±μ„ λ†’μΌ μ μλ‹¤.

λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ‚¬μ©ν•  λ•μ—” μ•„μ§ λ©”μ„λ“λ¥Ό νΈμ¶ν• κ²ƒμ΄ μ•„λ‹κΈ° λ•λ¬Έμ— ()κ°€ λ¶™μ§€ μ•λ”λ‹¤.

- μ •μ  λ©”μ„λ“ μ°Έμ΅° `Integer::parseInt`
- λ‹¤μ–‘ν• ν•μ‹μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° `String::length`
- κΈ°μ΅΄ κ°μ²΄μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅° `apple::getWeight`

### μƒμ„±μ μ°Έμ΅°

μƒμ„±μ λν• λ§μ°¬κ°€μ§€λ΅ new ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•΄μ„ κΈ°μ΅΄ μƒμ„±μμ μ°Έμ΅°λ¥Ό λ§λ“¤ μ μλ‹¤. `Apple::new`

## λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μκ² λ„μ™€μ£Όλ” default λ©”μ„λ“

μλ°” 8μ ν•¨μν• μΈν…νμ΄μ¤λ“¤μ€ μ¶”μƒ λ©”μ„λ“ μ™Έμ— λ‹¤μ–‘ν• μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό ν¬ν•¨ν•λ‹¤.

κ·Έ μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ΄μ©ν•΄μ„ μ—¬λ¬ κ°„λ‹¨ν• λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•΄μ„ λ³µμ΅ν• λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤μ–΄ μ“°λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.

κ·Έ μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ •μν• κ²ƒμ΄ λ°”λ΅ `**default λ©”μ„λ“**`μ΄λ‹¤.

μ •λ ¬ κΈ°λ¥μ„ μ κ³µν•λ” Comparator ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μλ΅ λ“¤λ©΄

```java
Comparator<Apple> c = Comparator.comparing(Apple::getWeight);

inventory.sort(comparing(Apple::getWeight).reverse());

```

comparing() μ΄λΌλ” λ©”μ„λ“λ΅ μ •λ ¬μ„ μ‹ν‚¬ μ μλ”λ°, μ΄λ¥Ό μ—­μ •λ ¬μ‹ν‚¤κΈ° μ„ν•΄μ„ Comparatorκ°€ default λ©”μ„λ“λ΅ μ κ³µν•κ³  μλ” reverse() λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μλ‹¤.

μ΄λ° μ‹μΌλ΅ μ—¬λ¬ μ ν‹Έλ¦¬ν‹° λ©”μ„λ“λ¥Ό μ΅°ν•©ν•΄μ„ λ‹¤μ–‘ν• λ³€ν™ νμ΄ν”„λΌμΈμ„ λ§λ“¤ μ μλ‹¤.
